<template>
    <lightning-card title="Import Leads from CSV">
        <div class="slds-m-around_medium">
            <lightning-input type="file" label="Upload CSV File" accept=".csv" onchange={handleFileChange}></lightning-input>
            
            <!-- Display the uploaded file name -->
            <template if:true={fileName}>
                <p class="slds-m-top_x-small" style="margin-bottom: 5px;"><strong>Uploaded File:</strong> {fileName}</p>
            </template>

            <lightning-button label="Upload Leads" variant="brand" class="slds-m-top_medium" onclick={handleUpload}></lightning-button>
        </div>

        <!-- Show inserted records table -->
        <template if:true={hasLeads}>
            <lightning-card title="Inserted Leads" class="slds-m-top_medium">
                <!-- Display the number of inserted leads -->
                <p class="slds-m-left_medium slds-m-bottom_small"><strong>Number of Leads Inserted:</strong> {leadCount}</p>

                <lightning-datatable
                    key-field="Id"
                    data={uploadedLeads}
                    columns={columns}>
                </lightning-datatable>
            </lightning-card>
        </template>
    </lightning-card>
</template>
